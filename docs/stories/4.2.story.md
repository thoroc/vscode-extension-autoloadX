# Story 4.2: Automated GitHub Release Process

## Status

Draft

## Story

**As a** developer, **I want** an automated GitHub release process, **so that** the VSCode extension can be easily
distributed to users.

## Acceptance Criteria

1. Ensure the VSIX package includes only necessary files by adding a `.vscodeignore` file or specifying the `files`
   property in `package.json`.
2. Review and exclude unnecessary files from the VSIX package, such as test files and non-essential configurations.
3. Optimize the package size while maintaining functionality.
4. Validate the optimized VSIX package to ensure it works as expected.
5. Successfully create a new release on GitHub when a new Git tag is detected.
6. The release includes the VSCode extension packaged in the correct format.
7. Users can download the release file from GitHub.
8. The downloaded extension is installable and functional in VSCode.

## Tasks / Subtasks

- [ ] Task 1 (AC: 1, 2, 3)
  - [x] Add a `.vscodeignore` file to exclude unnecessary files.
  - [ ] Update `package.json` to specify the `files` property. (Cancelled due to conflict with `.vscodeignore` file)
  - [x] Review and optimize the VSIX package size.
- [ ] Task 2 (AC: 4)
  - [ ] Validate the optimized VSIX package functionality.
- [ ] Task 3 (AC: 5, 6, 7, 8)
  - [x] Implement GitHub Actions workflow to detect new Git tags and trigger a release.
  - [x] Use the GitHub Release API to upload the VSIX package.
  - [x] Test the release process to ensure the extension is downloadable and installable.

## Dev Notes

### Previous Story Insights

- Story 4.1 ensured the extension is packaged correctly and uploaded to GitHub.

### Data Models

- Release Metadata: Includes version, changelog, and assets.

### API Specifications

- GitHub Release API: Used for uploading the extension.

### Component Specifications

- None specific to this story.

### File Locations

- `.vscodeignore`: Root directory.
- `package.json`: Root directory.
- GitHub Actions workflow: `.github/workflows/release.yml`.

### Testing Requirements

- Validate the VSIX package functionality.
- Test the GitHub Actions workflow for detecting tags and creating releases.
- Ensure the extension is downloadable and installable from the release.

### Technical Constraints

- Use the GitHub Release API for automation.
- Ensure the `.vscodeignore` file excludes unnecessary files.

## Testing

- **Test Scenarios**:
  1. Verify that the `.vscodeignore` file excludes unnecessary files.
  2. Ensure the `files` property in `package.json` includes only necessary files.
  3. Validate the optimized VSIX package functionality.
  4. Test the GitHub Actions workflow for detecting tags and creating releases.
  5. Ensure the extension is downloadable and installable from the release.

- **Edge Cases**:
  - Handle errors during the packaging process.
  - Ensure the release fails gracefully if the GitHub API is unavailable.

## Change Log

| Date       | Version | Description                                                  | Author |
| ---------- | ------- | ------------------------------------------------------------ | ------ |
| 2025-08-15 | 1.0     | Initial draft of Story 4.2: Automated GitHub Release Process | Bob    |

## Dev Agent Record

### Agent Model Used

N/A

### Debug Log References

N/A

### Completion Notes List

N/A

### File List

N/A

## QA Results

N/A
